<!DOCTYPE html>
<meta charset="UTF-8">
<title>City of Millenials</title>
<link rel="stylesheet" href="Mainstyle.css">


 

<body>

  <header class=grid-container-2-1>
    <div class=title>City of Millenials</div>
    <nav>
        <ul id="main">
          <a href="https://www.google.com/"><li>Home</li></a>
          <li>Boston City</li>
          <li>Neighborhood</li>
          <li>Case Study
            <ul class="drop">
              <div>
              <li>Allston / Brighton</li>
              <li>South Boston</li>
              <li>Dorchester</li>
              </div>
            </ul>
          </li>
          <div id="marker"></div>
        </ul>
      </nav>
    </header>
  
 
  <div class=grid-container>
    <img class=censusdiagram src="images/Student-Census-Density.gif" alt="census density">
  </div>

  <div class=grid-container-2-2>
    <div class=text>
      <p>This research aims to unravel the challenge and opportunity of Boston neighborhood from students residential housing market change in the recent 10 years. To tackle this challenge, I took a cross-disciplinary approach combing census factor, urban residential factor and related amenity factor; the research analyzed these factors from city, neighborhood and community scale. </p>
    </div>
    <div class="grid-item-1">
            
            <div>
                <div class="panel">
                  <div class="graph">
                    <div class="graph-hd">
                      <h1>Snap.svg Circle Graph</h1>
                    </div>
                    <div class="graph-bd">
                      <div class="graph-bd-md">
                        <svg id="svg"></svg>
                      </div>
                      <div class="graph-bd-text">
                        <ul>
                          <li class="js-graphItem" data-val="80" data-color="#922cd1">Javascript: 80</li>
                          <li class="js-graphItem" data-val="60" data-color="#d12c87">CSS: 60</li>
                          <li class="js-graphItem" data-val="40" data-color="#d17f2c">CSS: 40</li>
                          <li class="js-graphItem" data-val="20" data-color="#e3c91e">CSS: 20</li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
   
</div>

    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script src='https://s3-us-west-2.amazonaws.com/s.cdpn.io/53148/snap.svg-min.js'></script>
    
    <!--circlediagram-->
    <script>(function(){

      var Graph = function(index, element, canvas) {
        this.reference = canvas;
        this.$element = $(canvas);
        
        this.circle = $(element);
        this.index = index;
        
        this.canvasSize = null;
        this.centre = null;
        this.radius = null;
        this.startY = null;
        
        this.init();
      };
      
      // Alias Prototype
      var proto = Graph.prototype;
      
      /**
       *
       *
       */
      proto.init = function() {
        this.createChildren()
            .enable();
      };
      
      /**
       *
       *
       */
      proto.createChildren = function() {
        this.$ring = $('.js-graphItem');
        this.canvas = Snap(this.reference);
        
        
        
        return this;
      };
      
      /**
       *
       *
       */
      proto.enable = function() {
        this.getValue();
      };
      
      /**
       *
       *
       */
      proto.setValues = function() {  
        this.canvasSize = this.$element.height();
        this.centre = this.canvasSize / 2;
        this.radius = (this.canvasSize * 0.8 / 2) - (20 * this.index);
        this.startY = this.centre - this.radius;
        
        return this;
      };
      
      
      /**
       *
       *
       */
      proto.getValue = function() {
        this.setValues(); 
        var val = this.circle.attr('data-val');
        val = parseInt(val, 10);
        var percent = val / 100;
        var color = this.circle.attr('data-color');
    
        this.animate(percent, color);
      };
      
      /**
       *
       *
       */
      proto.animate = function(percent, color) {
        var self = this;    
    
    
        var path = "";
        var arc = this.canvas.path(path);
    
        var endpoint = percent*360;
        
        Snap.animate(0, endpoint, function(val){
    
          arc.remove();
            
          path = self.formPath(val);
    
          arc = self.canvas.path(path);
          arc.attr({
            stroke: color,
            fill: 'none',
            strokeWidth: 20
          });
          
          
          
        }, 2000, mina.easeinout); 
        
      };
     
      
      proto.formPath = function(val) {
        var d = val;
        var dr = d - 90;
        var radians = Math.PI*(dr)/180;
        var endx = this.centre + this.radius * Math.cos(radians);
        var endy = this.centre + this.radius * Math.sin(radians);
        var largeArc = d >180 ? 1 : 0;  
        
        if (endx === 99.99999999999999) {
          var path = "M"+ this.centre + "," + this.startY + " A" + this.radius + "," + this.radius +" 0 "+largeArc+",1 99.99999," + endy + ' Z';
        } else {
          var path = "M"+ this.centre + "," + this.startY + " A" + this.radius + "," + this.radius +" 0 "+largeArc+",1 " + endx + "," + endy;
        }
        return path;
      };
      
      
      $('.js-graphItem').each(function(index, element){
        this.text = new Graph(index, element, '#svg');
      });
      
    })(); </script>



</body>

